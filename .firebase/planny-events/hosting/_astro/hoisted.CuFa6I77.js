import"./AuthLayout.astro_astro_type_script_index_0_lang.CJaHzz7a.js";import"./validateAuth.CUuyyvYq.js";const a=document.getElementById("signUpForm");a&&a.addEventListener("submit",async function(s){s.preventDefault();const m=document.getElementById("clubNameError");m.textContent="";const l=document.getElementById("emailError");l.textContent="";const c=document.getElementById("passwordError");c.textContent="";const i=document.getElementById("confirmPasswordError");i.textContent="";const r=document.getElementById("clubName").value.trim(),n=document.getElementById("email").value.trim(),o=document.getElementById("password").value,d=document.getElementById("confirmPassword").value;let e=!0;if(r===""&&(document.getElementById("clubNameError").textContent="El nombre del club es obligatorio.",e=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(document.getElementById("emailError").textContent="El email no es válido.",e=!1),o.length<6&&(document.getElementById("passwordError").textContent="La contraseña debe tener al menos 6 caracteres.",e=!1),o!==d&&(document.getElementById("confirmPasswordError").textContent="Las contraseñas no coinciden.",e=!1),e)try{const t=await fetch("https://planny-432016.uc.r.appspot.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:n,password:o})});if(t.ok)await t.json(),window.location.href="/auth/login";else{const u=await t.json();alert(`Error: ${u.message}`)}}catch(t){console.error("Error:",t),alert("Hubo un problema con el registro.")}});
