import{j as e,L as f,B as w}from"./index.DEudtTsA.js";import{r}from"./index.DhYZZe0J.js";import{A as m}from"./athlete.35R8VjyD.js";import"./firstEvent.6da11d29.Cvy-jAXS.js";import"./validateAuth.CUuyyvYq.js";const b="_container_1uifm_1",_={container:b},j="_item_4g9tm_1",v="_picture_4g9tm_17",k="_image_4g9tm_29",y="_conteinerInfo_4g9tm_43",I="_name_4g9tm_55",S="_email_4g9tm_67",C="_status_4g9tm_79",L="_statusIcon_4g9tm_95",A="_statusText_4g9tm_101",z="_buttonIconDelete_4g9tm_113",E="_buttonIcon_4g9tm_113",n={item:j,picture:v,image:k,conteinerInfo:y,name:I,email:S,status:C,statusIcon:L,statusText:A,buttonIconDelete:z,buttonIcon:E},N=({size:t=24,color:s="currentColor"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:s,children:e.jsx("path",{d:"M10 2L9 3H4v2h16V3h-5l-1-1h-4zM5 7v13a2 2 0 002 2h10a2 2 0 002-2V7H5zm3 2h2v11H8V9zm6 0h2v11h-2V9z"})}),T=({size:t=24,color:s="currentColor"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:s,children:e.jsx("path",{d:"M18.414 2a1 1 0 0 0-.707.293L16 4l4 4 1.707-1.707a1 1 0 0 0 0-1.414L19.12 2.293A1 1 0 0 0 18.414 2zM14.5 5.5L3 17v4h4L18.5 9.5l-4-4z"})}),D=({athlete:t})=>{const s=async()=>{if(t.id===void 0||!window.confirm("¿Estás seguro de eliminar este deportista?"))return;await new m().deleteAthlete(t.id),window.location.reload()},a=()=>{console.log("Edit")};return e.jsxs("li",{className:n.item,children:[e.jsx("picture",{className:n.picture,children:e.jsx("img",{className:n.image,src:"https://via.placeholder.com/150",alt:"Athlete"})}),e.jsxs("section",{className:n.conteinerInfo,children:[e.jsx("h4",{className:n.name,children:t.fullName}),e.jsx("p",{className:n.email,children:t.email})]}),e.jsxs("div",{className:n.status,children:[e.jsx("button",{className:n.buttonIconDelete,"aria-label":"Eliminar",onClick:s,children:e.jsx(N,{size:16})}),e.jsx("button",{className:n.buttonIcon,"aria-label":"Eliminar",onClick:a,children:e.jsx(T,{size:16})})]})]})},W=()=>{const[t,s]=r.useState([]),[a,c]=r.useState(!0),[i,p]=r.useState(""),[x,d]=r.useState(!1),h=new m;r.useEffect(()=>{(async()=>{try{const l=await h.getAllAthletes();s(l)}catch(l){console.error("Error al obtener atletas:",l)}finally{c(!1)}})()},[]);async function u(){try{const o=await h.getlink();p("/createUserWithLink?token="+o),console.log("Token recibido:",o)}catch(o){console.error("Error al obtener el token:",o)}}const g=()=>{navigator.clipboard.writeText(window.location.origin+i),d(!0),setTimeout(()=>d(!1),2e3)};return a?e.jsx("div",{style:{height:"50vh",width:"100%",justifyContent:"center",alignItems:"center",display:"flex"},children:e.jsx("div",{children:e.jsx(f,{color:"red"})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"0.5rem",alignItems:"center",marginTop:"20px",maxWidth:"95dvw",width:"100%"},children:[e.jsx("button",{onClick:u,style:{padding:"8px 16px",border:"none",borderRadius:"4px",background:"#1976d2",color:"#fff",cursor:"pointer",fontSize:"0.8rem",fontWeight:500,boxShadow:"0 2px 4px rgba(0,0,0,0.06)",transition:"background 0.2s"},children:"Generar link de registro"}),e.jsxs("div",{style:{padding:"12px",border:"1px solid #e0e0e0",borderRadius:"8px",background:"#fafafa",display:"flex",alignItems:"center",gap:"8px",width:"100%",overflow:"hidden",position:"relative"},children:[e.jsx("span",{style:{flex:1,color:"#333",fontSize:"0.95rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},title:window.location.origin+i,children:i?window.location.origin+i:"Link no disponible"}),e.jsx("button",{style:{padding:"6px 12px",border:"none",borderRadius:"4px",background:i===""?"#ccc":"#1976d2",color:"#fff",cursor:"pointer",fontSize:"0.9rem",flexShrink:0},onClick:g,"aria-label":"Copiar link de registro",title:"Copiar link de registro",disabled:i==="",children:"Copiar"}),x&&e.jsx("span",{style:{position:"absolute",right:"10px",top:"0",background:"#4caf50",color:"#fff",padding:"6px 14px",borderRadius:"6px",fontSize:"0.9rem",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",zIndex:10,animation:"fadeInOut 2s"},children:"¡Link copiado!"})]})]}),e.jsx("header",{style:{display:"flex",justifyContent:"space-between",marginTop:"20px"},children:e.jsx(w,{label:"Agregar deportista",href:"/createUser"})}),e.jsx("ul",{className:_.container,children:t.map(o=>e.jsx(D,{athlete:o},o.id))})]})};export{W as AthletesList};
