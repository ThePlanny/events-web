import{j as t,L as g,B as x}from"./index.RDu4UF2p.js";import{r as i}from"./index.DhYZZe0J.js";import{A as h}from"./athlete.C4ApM4WN.js";import"./firstEvent.c71c698c.Cvy-jAXS.js";import"./validateAuth.CUuyyvYq.js";const _="_container_1uifm_1",j={container:_},p="_item_4g9tm_1",f="_picture_4g9tm_17",w="_image_4g9tm_29",v="_conteinerInfo_4g9tm_43",I="_name_4g9tm_55",b="_email_4g9tm_67",k="_status_4g9tm_79",y="_statusIcon_4g9tm_95",A="_statusText_4g9tm_101",L="_buttonIconDelete_4g9tm_113",N="_buttonIcon_4g9tm_113",s={item:p,picture:f,image:w,conteinerInfo:v,name:I,email:b,status:k,statusIcon:y,statusText:A,buttonIconDelete:L,buttonIcon:N},E=({size:e=24,color:o="currentColor"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:o,children:t.jsx("path",{d:"M10 2L9 3H4v2h16V3h-5l-1-1h-4zM5 7v13a2 2 0 002 2h10a2 2 0 002-2V7H5zm3 2h2v11H8V9zm6 0h2v11h-2V9z"})}),C=({size:e=24,color:o="currentColor"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:o,children:t.jsx("path",{d:"M18.414 2a1 1 0 0 0-.707.293L16 4l4 4 1.707-1.707a1 1 0 0 0 0-1.414L19.12 2.293A1 1 0 0 0 18.414 2zM14.5 5.5L3 17v4h4L18.5 9.5l-4-4z"})}),T=({athlete:e})=>{const o=()=>{if(e.id===void 0||!window.confirm("¿Estás seguro de eliminar este deportista?"))return;new h().deleteAthlete(e.id),window.location.reload()},r=()=>{console.log("Edit")};return t.jsxs("li",{className:s.item,children:[t.jsx("picture",{className:s.picture,children:t.jsx("img",{className:s.image,src:"https://via.placeholder.com/150",alt:"Athlete"})}),t.jsxs("section",{className:s.conteinerInfo,children:[t.jsx("h4",{className:s.name,children:e.fullName}),t.jsx("p",{className:s.email,children:e.email})]}),t.jsxs("div",{className:s.status,children:[t.jsx("button",{className:s.buttonIconDelete,"aria-label":"Eliminar",onClick:o,children:t.jsx(E,{size:16})}),t.jsx("button",{className:s.buttonIcon,"aria-label":"Eliminar",onClick:r,children:t.jsx(C,{size:16})})]})]})},V=()=>{const[e,o]=i.useState([]),[r,a]=i.useState(!0),[l,d]=i.useState(""),m=new h;i.useEffect(()=>{(async()=>{try{const c=await m.getAllAthletes();o(c)}catch(c){console.error("Error al obtener atletas:",c)}finally{a(!1)}})()},[]);async function u(){try{const n=await m.getlink();d(n),console.log("Token recibido:",n)}catch(n){console.error("Error al obtener el token:",n)}}return r?t.jsx("div",{style:{height:"50vh",width:"100%",justifyContent:"center",alignItems:"center",display:"flex"},children:t.jsx("div",{children:t.jsx(g,{color:"red"})})}):t.jsxs(t.Fragment,{children:[t.jsx("header",{style:{display:"flex",justifyContent:"space-between"},children:t.jsx(x,{label:"Agregar deportista",href:"/createUser"})}),t.jsxs("ul",{className:j.container,children:[t.jsxs("div",{className:"registrationLink",children:[t.jsx("button",{onClick:u,children:"Link registro"}),l&&t.jsxs("p",{children:["Token: ",l]})]}),e.map(n=>t.jsx(T,{athlete:n},n.id))]})]})};export{V as AthletesList};
