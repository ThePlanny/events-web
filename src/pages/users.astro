---
import Layout from "../layouts/Layout.astro";
---

<Layout title="usuarios">
  <a href="/createUser">Crear Deportista</a>
  <ul id="users-list"></ul>
</Layout>

<script>
  import type { Athlete } from "../interfaces/athlete";
  import { AthleteService } from "../services/athlete";

  const usersList = document.getElementById("users-list");

  const athleteService = new AthleteService();
  const users: Athlete[] = await athleteService.getAllAthletes();

  users.forEach((user) => {
    console.log("ðŸ¥‘ ~ users.forEach ~ user:", user);
    const li = document.createElement("li");
    li.textContent = user.fullName;
    usersList?.appendChild(li);
  });

  // const createUserForm = document.getElementById("createUserForm");
  // createUserForm?.addEventListener("submit", async (event) => {
  //   event.preventDefault();

  //   /// values
  //   const fullName = (document.getElementById("nombre") as HTMLInputElement)
  //     .value;
  //   const documentNumber = (
  //     document.getElementById("NameClub") as HTMLInputElement
  //   ).value;
  //   const documentType = (
  //     document.getElementById("documento") as HTMLSelectElement
  //   ).value;
  //   const birthDate = (document.getElementById("fecha") as HTMLInputElement)
  //     .value;
  //   const email = (document.getElementById("email") as HTMLInputElement).value;

  //   const params: Athlete = {
  //     fullName,
  //     birthDate,
  //     documentNumber,
  //     documentType,
  //     email,
  //   };

  //   const athleteService = new AthleteService();
  //   const response = await athleteService.createAthlete(params);
  //   console.log(response);
  // });
</script>

<style>
  
</style>